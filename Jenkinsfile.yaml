pipeline:
  agent:
    any:
  stages:
    - stage: version
      steps:
        - sh 'python3 --version'
    - stage: Build
      steps:
        - sh 'python3 -m venv env'
        - sh 'source env/bin/activate'
        - sh 'pip3 install pytest'
        - sh 'pip3 install pytest-cov'
        - sh 'pip3 install coverage'
        - sh 'pip3 install pylint'
    - stage: Test
      steps:
        - sh 'python3 pytest -v tests'
        - sh 'coverage run --source=. -m pytest'
        - sh 'coverage report -m'
    - stage: Deploy
      steps:
        - sh 'echo "Deploying..."'